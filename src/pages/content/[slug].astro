---
import Layout from "@/layouts/Layout.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const pages = await getCollection("content");

  return pages.map((page) => ({
    params: { slug: page.data.slug },
    props: { page }
  }));
}

const data = Astro.props.page.data;
const content = Astro.props.page.rendered?.html;
---

<Layout>
  <div class="container mx-auto px-4 py-8">
    <h1 class="mb-6 text-2xl font-bold">
      Page title: {data.title}
    </h1>
    <div set:html={content} />
  </div>
</Layout>
